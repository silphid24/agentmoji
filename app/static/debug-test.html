<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test - Simple Toggle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .chat-window {
            transition: all 0.3s ease;
        }
        
        .hidden {
            display: none !important;
        }
        
        .visible {
            display: block !important;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
    
    <!-- Simple Test -->
    <div class="fixed bottom-6 right-6 z-50">
        
        <!-- Test Chat Window -->
        <div id="test-window" class="absolute chat-window bg-white rounded-3xl shadow-2xl p-6 hidden" 
             style="bottom: 80px; right: 0px; width: 400px; height: 500px;">
            <h3 class="font-bold text-lg mb-4">SMHACCP Agent Moji</h3>
            <div class="bg-gray-100 rounded-lg p-4 mb-4">
                <p>This is a test chat window</p>
            </div>
            <button id="close-test" class="bg-red-500 text-white px-4 py-2 rounded">Close</button>
        </div>
        
        <!-- Test Toggle Button -->
        <button id="test-toggle" class="w-16 h-16 bg-blue-500 text-white rounded-full shadow-lg flex items-center justify-center">
            <span class="text-2xl">ðŸ’¬</span>
        </button>
    </div>
    
    <script>
        const testToggle = document.getElementById('test-toggle');
        const testWindow = document.getElementById('test-window');
        const closeTest = document.getElementById('close-test');
        
        let isOpen = false;
        
        testToggle.addEventListener('click', () => {
            console.log('Button clicked, current state:', isOpen);
            isOpen = !isOpen;
            
            if (isOpen) {
                testWindow.classList.remove('hidden');
                testWindow.classList.add('visible');
                console.log('Window should be visible now');
            } else {
                testWindow.classList.add('hidden');
                testWindow.classList.remove('visible');
                console.log('Window should be hidden now');
            }
        });
        
        closeTest.addEventListener('click', () => {
            isOpen = false;
            testWindow.classList.add('hidden');
            testWindow.classList.remove('visible');
        });
        
        console.log('Debug test loaded');
    </script>
</body>
</html>