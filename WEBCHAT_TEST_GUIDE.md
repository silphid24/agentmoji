# 🤖 MOJI WebChat 테스트 가이드

## 🚀 빠른 시작 (30초 만에 시작하기)

### 방법 1: 자동 실행 스크립트 사용 (추천) ⭐
```bash
python3 quick_test.py
```
이 명령을 실행하면:
- ✅ 필수 패키지 자동 확인
- ✅ API 키 설정 확인
- ✅ 서버 자동 시작
- ✅ 3초 후 브라우저 자동 열기

### 방법 2: 수동으로 서버 실행
```bash
# 터미널에서 실행
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# 브라우저에서 접속
http://localhost:8000/static/webchat-test.html
```

## 💬 웹챗에서 테스트할 수 있는 대화 예시

### 1. 기본 인사와 소개
```
👤 You: 안녕하세요!
🤖 MOJI: 안녕하세요! 저는 MOJI입니다. 무엇을 도와드릴까요?

👤 You: 당신은 누구인가요?
🤖 MOJI: 저는 MOJI AI 어시스턴트입니다. 다양한 작업을 도와드릴 수 있습니다.

👤 You: 무엇을 할 수 있나요?
🤖 MOJI: 대화, 질문 답변, 정보 제공, 작업 지원 등 다양한 도움을 드릴 수 있습니다.
```

### 2. 특수 명령어 테스트
```
/help     - 사용 가능한 명령어 목록 표시
/clear    - 대화 기록 초기화
/buttons  - 버튼 UI 예제 표시
/card     - 카드 형태의 리치 콘텐츠 표시
/features - MOJI의 주요 기능 소개
```

### 3. 실용적인 질문 예시
```
👤 You: 오늘 날씨는 어때?
👤 You: 파이썬으로 Hello World 출력하는 방법 알려줘
👤 You: 프로젝트 관리 팁을 알려줘
👤 You: 스트레스 해소 방법을 추천해줘
```

### 4. 대화 컨텍스트 테스트
```
👤 You: 내 이름은 철수야
🤖 MOJI: 안녕하세요, 철수님!

👤 You: 내 이름이 뭐라고 했지?
🤖 MOJI: 철수라고 하셨습니다.
```

## 🎨 웹챗 UI 기능

### 채팅 인터페이스
- **메시지 입력**: 하단 입력창에 메시지 작성
- **전송**: Enter 키 또는 전송 버튼 클릭
- **자동 스크롤**: 새 메시지 시 자동으로 하단 스크롤

### 시각적 요소
- **사용자 메시지**: 파란색 말풍선 (오른쪽)
- **MOJI 응답**: 회색 말풍선 (왼쪽)
- **타이핑 표시**: MOJI가 응답 중일 때 애니메이션
- **연결 상태**: 상단에 WebSocket 연결 상태 표시

## 🛠️ 개발자를 위한 고급 테스트

### 1. 브라우저 개발자 도구 활용 (F12)
```javascript
// Console에서 직접 메시지 전송
chat.sendMessage("테스트 메시지");

// WebSocket 상태 확인
console.log(chat.ws.readyState);
// 0: CONNECTING, 1: OPEN, 2: CLOSING, 3: CLOSED
```

### 2. 네트워크 탭에서 확인할 것
- WebSocket 연결: `ws://localhost:8000/api/v1/adapters/webchat/ws`
- 메시지 프레임 확인
- 연결 유지 (ping/pong)

### 3. 성능 테스트
- 여러 브라우저 탭에서 동시 접속
- 긴 메시지 전송 테스트
- 연속적인 빠른 메시지 전송

## ⚠️ 문제 해결

### "연결할 수 없습니다" 오류
1. 서버가 실행 중인지 확인
2. 포트 8000이 다른 프로그램에서 사용 중인지 확인
3. 방화벽 설정 확인

### 메시지가 전송되지 않는 경우
1. 브라우저 콘솔(F12)에서 에러 확인
2. WebSocket 연결 상태 확인
3. 서버 터미널에서 에러 로그 확인

### API 키 관련 오류
1. `.env` 파일의 `LLM_API_KEY` 확인
2. OpenAI 크레딧 잔액 확인
3. API 키 권한 확인

## 📊 테스트 체크리스트

- [ ] 서버 정상 시작
- [ ] 웹챗 페이지 로드
- [ ] WebSocket 연결 성공
- [ ] 기본 대화 가능
- [ ] 특수 명령어 동작
- [ ] 연속 대화 컨텍스트 유지
- [ ] 에러 처리 정상 동작
- [ ] UI 반응성 확인

## 🎯 다음 단계

1. **커스터마이징**: `app/agents/conversation.py`에서 응답 로직 수정
2. **UI 개선**: `app/static/webchat-test.html`에서 스타일 변경
3. **기능 추가**: 파일 업로드, 음성 입력 등 추가 기능 구현
4. **배포 준비**: Docker 컨테이너화 및 프로덕션 설정

---

💡 **팁**: 서버 로그를 보면서 테스트하면 더 자세한 정보를 확인할 수 있습니다!